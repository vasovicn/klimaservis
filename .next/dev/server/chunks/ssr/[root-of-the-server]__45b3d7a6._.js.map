{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nikola/Desktop/klimaservis/src/components/admin/AdminSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\n\ninterface AdminUser {\n  id: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n}\n\nexport default function AdminSidebar({ user }: { user: AdminUser }) {\n  const pathname = usePathname();\n  const router = useRouter();\n\n  const links = [\n    { href: \"/admin/schedule\", label: \"Raspored\", icon: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" },\n    { href: \"/admin/bookings\", label: \"Zakazivanja\", icon: \"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" },\n    ...(user.role === \"admin\"\n      ? [{ href: \"/admin/users\", label: \"Korisnici\", icon: \"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" }]\n      : []),\n  ];\n\n  const handleLogout = async () => {\n    await fetch(\"/api/auth/logout\", { method: \"POST\" });\n    router.push(\"/admin/login\");\n  };\n\n  return (\n    <aside className=\"flex h-screen w-64 flex-col border-r border-gray-200 bg-white\">\n      <div className=\"border-b border-gray-200 p-4\">\n        <h2 className=\"text-lg font-bold text-brand-700\">Klima Servis</h2>\n        <p className=\"text-sm text-gray-500\">\n          {user.firstName} {user.lastName}\n        </p>\n      </div>\n\n      <nav className=\"flex-1 p-4 space-y-1\">\n        {links.map((link) => (\n          <Link\n            key={link.href}\n            href={link.href}\n            className={`flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors ${\n              pathname.startsWith(link.href)\n                ? \"bg-brand-50 text-brand-700\"\n                : \"text-gray-600 hover:bg-gray-50 hover:text-gray-900\"\n            }`}\n          >\n            <svg\n              className=\"h-5 w-5\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              strokeWidth={1.5}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                d={link.icon}\n              />\n            </svg>\n            {link.label}\n          </Link>\n        ))}\n      </nav>\n\n      <div className=\"border-t border-gray-200 p-4\">\n        <button\n          onClick={handleLogout}\n          className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-gray-600 transition-colors hover:bg-red-50 hover:text-red-600\"\n        >\n          <svg\n            className=\"h-5 w-5\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            strokeWidth={1.5}\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n            />\n          </svg>\n          Odjavi se\n        </button>\n      </div>\n    </aside>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYe,SAAS,aAAa,EAAE,IAAI,EAAuB;IAChE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,QAAQ;QACZ;YAAE,MAAM;YAAmB,OAAO;YAAY,MAAM;QAAyF;QAC7I;YAAE,MAAM;YAAmB,OAAO;YAAe,MAAM;QAAkI;WACrL,KAAK,IAAI,KAAK,UACd;YAAC;gBAAE,MAAM;gBAAgB,OAAO;gBAAa,MAAM;YAA0H;SAAE,GAC/K,EAAE;KACP;IAED,MAAM,eAAe;QACnB,MAAM,MAAM,oBAAoB;YAAE,QAAQ;QAAO;QACjD,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAM,WAAU;;0BACf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,8OAAC;wBAAE,WAAU;;4BACV,KAAK,SAAS;4BAAC;4BAAE,KAAK,QAAQ;;;;;;;;;;;;;0BAInC,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,uKAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,CAAC,qFAAqF,EAC/F,SAAS,UAAU,CAAC,KAAK,IAAI,IACzB,+BACA,sDACJ;;0CAEF,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,SAAQ;gCACR,QAAO;gCACP,aAAa;0CAEb,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,GAAG,KAAK,IAAI;;;;;;;;;;;4BAGf,KAAK,KAAK;;uBArBN,KAAK,IAAI;;;;;;;;;;0BA0BpB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,SAAQ;4BACR,QAAO;4BACP,aAAa;sCAEb,cAAA,8OAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,GAAE;;;;;;;;;;;wBAEA;;;;;;;;;;;;;;;;;;AAMhB"}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nikola/Desktop/klimaservis/src/app/admin/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport AdminSidebar from \"@/components/admin/AdminSidebar\";\n\ninterface AdminUser {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n}\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const pathname = usePathname();\n  const [user, setUser] = useState<AdminUser | null>(null);\n  const [loading, setLoading] = useState(true);\n  const isLoginPage = pathname === \"/admin/login\";\n\n  useEffect(() => {\n    if (isLoginPage) {\n      setLoading(false);\n      return;\n    }\n\n    fetch(\"/api/auth/me\")\n      .then((r) => (r.ok ? r.json() : null))\n      .then((data) => {\n        if (data?.user) setUser(data.user);\n      })\n      .finally(() => setLoading(false));\n  }, [isLoginPage]);\n\n  if (isLoginPage) {\n    return <>{children}</>;\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-gray-50\">\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-brand-200 border-t-brand-500\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50\">\n      {user && <AdminSidebar user={user} />}\n      <main className=\"flex-1 overflow-auto p-6\">{children}</main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAce,SAAS,YAAY,EAClC,QAAQ,EAGT;IACC,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAmB;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,cAAc,aAAa;IAEjC,IAAA,kNAAS,EAAC;QACR,IAAI,aAAa;YACf,WAAW;YACX;QACF;QAEA,MAAM,gBACH,IAAI,CAAC,CAAC,IAAO,EAAE,EAAE,GAAG,EAAE,IAAI,KAAK,MAC/B,IAAI,CAAC,CAAC;YACL,IAAI,MAAM,MAAM,QAAQ,KAAK,IAAI;QACnC,GACC,OAAO,CAAC,IAAM,WAAW;IAC9B,GAAG;QAAC;KAAY;IAEhB,IAAI,aAAa;QACf,qBAAO;sBAAG;;IACZ;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,sBAAQ,8OAAC,sJAAY;gBAAC,MAAM;;;;;;0BAC7B,8OAAC;gBAAK,WAAU;0BAA4B;;;;;;;;;;;;AAGlD"}}]
}